[info] task=9 SID=20201204
[info] PAPER_HOME=/project/bdoiron/dracoxu/rct-fsflow/paper_project_final
[info] OUT_ROOT=/project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out
[info] DRY_RUN=0 CONTINUE_ON_ERROR=0

========== STIM 10ms native (small lag): train axes (C,R) peakbin ==========

[RUN] python cli/train_axes.py --out_root /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out --align stim --sid 20201204 --orientation vertical --features C R --tag axes_peakbin_stimCR-stim-vertical-10msnative --norm global --clf_binary logreg --C_grid 0.1 0.3 1 3 10 --lda_shrinkage auto --searchC --searchR --search_range_C=0.00:0.50 --search_range_R=0.00:0.50 --search_step_ms 20 --search_len_ms 50 100 150 200 250 --search_score_mode peak_bin_auc --search_tiebreak shortest_then_earliest --search_tol 0.01 --pt_min_ms_stim 200
[20201204][MFEF] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/axes/axes_peakbin_stimCR-stim-vertical-10msnative/axes_MFEF.npz
    → winC_selected: [0.18, 0.22999999999999998], score: 0.9421, peak@205ms (cv_auc=0.9876)
[20201204][MLIP] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/axes/axes_peakbin_stimCR-stim-vertical-10msnative/axes_MLIP.npz
    → winC_selected: [0.38000000000000006, 0.4800000000000001], score: 0.9244, peak@445ms (cv_auc=0.9868)
[20201204][MSC] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/axes/axes_peakbin_stimCR-stim-vertical-10msnative/axes_MSC.npz
    → winC_selected: [0.19999999999999998, 0.35], score: 0.7384, peak@305ms (cv_auc=0.7778)
[ok] axes_summary.json → /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/axes/axes_peakbin_stimCR-stim-vertical-10msnative/axes_summary.json
[ok] config.json → /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/axes/axes_peakbin_stimCR-stim-vertical-10msnative/config.json

========== STIM 10ms native (small lag): QC ==========

[RUN] python cli/qc_axes.py --out_root /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out --align stim --sid 20201204 --orientation vertical --tag axes_peakbin_stimCR-stim-vertical-10msnative --thr 0.60 --k 5 --pt_min_ms_stim 200 --norm auto
[20201204][MFEF] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/qc/axes_peakbin_stimCR-stim-vertical-10msnative/qc_axes_MFEF.pdf (+ .png, .json)   lat(ms): C=115.00000208616257, Sraw=None, Sinv=None, T=None
[20201204][MLIP] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/qc/axes_peakbin_stimCR-stim-vertical-10msnative/qc_axes_MLIP.pdf (+ .png, .json)   lat(ms): C=284.9999964237213, Sraw=None, Sinv=None, T=None
[20201204][MSC] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/qc/axes_peakbin_stimCR-stim-vertical-10msnative/qc_axes_MSC.pdf (+ .png, .json)   lat(ms): C=234.99999940395355, Sraw=None, Sinv=None, T=None

========== STIM 10ms native (small lag): flow feature=C (save null) ==========

[RUN] python cli/flow_session.py --out_root /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out --align stim --sid 20201204 --feature C --orientation vertical --lags_ms 30 --ridge 1e-2 --perms 500 --perm-within CR --null_method trial_shuffle --standardize_mode none --pt_min_ms 200 --no_induced --evoked_subtract --evoked_sigma_ms 10 --axes_tag axes_peakbin_stimCR-stim-vertical-10msnative --tag evoked_peakbin_stimC_vertical_lag30ms_10msnative --flow_tag_base evoked_peakbin_stimC_vertical_lag30ms_10msnative --save_null_samples --norm auto
[20201204][MFEF->MLIP] [evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial/C/flow_C_MFEFtoMLIP.npz
[20201204][MFEF->MSC] [evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial/C/flow_C_MFEFtoMSC.npz
[20201204][MLIP->MFEF] [evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial/C/flow_C_MLIPtoMFEF.npz
[20201204][MLIP->MSC] [evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial/C/flow_C_MLIPtoMSC.npz
[20201204][MSC->MFEF] [evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial/C/flow_C_MSCtoMFEF.npz
[20201204][MSC->MLIP] [evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial/C/flow_C_MSCtoMLIP.npz

========== STIM 10ms native (small lag): flow feature=R (save null) ==========

[RUN] python cli/flow_session.py --out_root /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out --align stim --sid 20201204 --feature R --orientation vertical --lags_ms 30 --ridge 1e-2 --perms 500 --perm-within CR --null_method trial_shuffle --standardize_mode none --pt_min_ms 200 --no_induced --evoked_subtract --evoked_sigma_ms 10 --axes_tag axes_peakbin_stimCR-stim-vertical-10msnative --tag evoked_peakbin_stimR_vertical_lag30ms_10msnative --flow_tag_base evoked_peakbin_stimR_vertical_lag30ms_10msnative --save_null_samples --norm auto
[20201204][MFEF->MLIP] [evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial/R/flow_R_MFEFtoMLIP.npz
[20201204][MFEF->MSC] [evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial/R/flow_R_MFEFtoMSC.npz
[20201204][MLIP->MFEF] [evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial/R/flow_R_MLIPtoMFEF.npz
[20201204][MLIP->MSC] [evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial/R/flow_R_MLIPtoMSC.npz
[20201204][MSC->MFEF] [evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial/R/flow_R_MSCtoMFEF.npz
[20201204][MSC->MLIP] [evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/stim/20201204/flow/evoked_peakbin_stimR_vertical_lag30ms_10msnative-none-trial/R/flow_R_MSCtoMLIP.npz

========== SACC 10ms (rebinned, small lag): train axes (S) peakbin ==========

[RUN] python cli/train_axes.py --out_root /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out --align sacc --sid 20201204 --orientation horizontal --features S --tag axes_peakbin_saccS-sacc-horizontal-10msnative --norm global --clf_binary logreg --C_grid 0.1 0.3 1 3 10 --lda_shrinkage auto --searchS --search_range_S=-0.20:0.05 --search_step_ms 20 --search_len_ms 50 100 150 200 250 --search_score_mode peak_bin_auc --search_tiebreak shortest_then_closest0 --search_tol 0.01 --pt_min_ms_sacc 200 --rebin_factor 2
[rebin] Combining 2 adjacent bins
[20201204][MFEF] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/axes/axes_peakbin_saccS-sacc-horizontal-10msnative/axes_MFEF.npz
[20201204][MLIP] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/axes/axes_peakbin_saccS-sacc-horizontal-10msnative/axes_MLIP.npz
[20201204][MSC] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/axes/axes_peakbin_saccS-sacc-horizontal-10msnative/axes_MSC.npz
[ok] axes_summary.json → /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/axes/axes_peakbin_saccS-sacc-horizontal-10msnative/axes_summary.json
[ok] config.json → /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/axes/axes_peakbin_saccS-sacc-horizontal-10msnative/config.json

========== SACC 10ms (rebinned, small lag): QC ==========

[RUN] python cli/qc_axes.py --out_root /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out --align sacc --sid 20201204 --orientation horizontal --tag axes_peakbin_saccS-sacc-horizontal-10msnative --thr 0.60 --k 5 --pt_min_ms_sacc 200 --norm auto --rebin_factor 2
[rebin] Combining 2 adjacent bins
[20201204][MFEF] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/qc/axes_peakbin_saccS-sacc-horizontal-10msnative/qc_axes_MFEF.pdf (+ .png, .json)   lat(ms): C=None, Sraw=-144.99999582767487, Sinv=-144.99999582767487, T=None
[20201204][MLIP] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/qc/axes_peakbin_saccS-sacc-horizontal-10msnative/qc_axes_MLIP.pdf (+ .png, .json)   lat(ms): C=None, Sraw=-105.00000044703484, Sinv=-105.00000044703484, T=None
[20201204][MSC] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/qc/axes_peakbin_saccS-sacc-horizontal-10msnative/qc_axes_MSC.pdf (+ .png, .json)   lat(ms): C=None, Sraw=-35.00000014901161, Sinv=-35.00000014901161, T=None

========== SACC 10ms (rebinned, small lag): flow feature=S (save null) ==========

[RUN] python cli/flow_session.py --out_root /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out --align sacc --sid 20201204 --feature S --orientation horizontal --lags_ms 30 --ridge 1e-2 --perms 500 --perm-within CR --null_method trial_shuffle --standardize_mode none --pt_min_ms 200 --no_induced --evoked_subtract --evoked_sigma_ms 10 --axes_tag axes_peakbin_saccS-sacc-horizontal-10msnative --tag evoked_peakbin_saccS_horizontal_lag30ms_10msnative --flow_tag_base evoked_peakbin_saccS_horizontal_lag30ms_10msnative --save_null_samples --norm auto --rebin_factor 2
[rebin] Combining 2 adjacent bins
[20201204][MFEF->MLIP] [evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/flow/evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial/S/flow_S_MFEFtoMLIP.npz
[20201204][MFEF->MSC] [evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/flow/evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial/S/flow_S_MFEFtoMSC.npz
[20201204][MLIP->MFEF] [evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/flow/evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial/S/flow_S_MLIPtoMFEF.npz
[20201204][MLIP->MSC] [evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/flow/evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial/S/flow_S_MLIPtoMSC.npz
[20201204][MSC->MFEF] [evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/flow/evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial/S/flow_S_MSCtoMFEF.npz
[20201204][MSC->MLIP] [evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial] wrote /project/bdoiron/dracoxu/rct-fsflow/paper_project_final/out/sacc/20201204/flow/evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial/S/flow_S_MSCtoMLIP.npz

[done] 10ms native (small lag) peakbin axes+QC+flow complete for SID=20201204

============================================================
10ms native (small lag) workflow completed. Next steps:
  1. Run trial_onset_comprehensive.py with appropriate settings
  2. Run summarize_flow_across_sessions.py with:
     --tags evoked_peakbin_stimC_vertical_lag30ms_10msnative-none-trial
     --tags evoked_peakbin_saccS_horizontal_lag30ms_10msnative-none-trial
     --smooth_ms 30
  3. Run plot_qc_paper.py with 10msnative QC subdirs
============================================================
